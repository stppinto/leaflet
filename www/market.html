<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.js"></script>
    <script src="https://cdn.klokantech.com/mapbox-gl-js/v0.43.0/mapbox-gl.js"></script>
    <script src="https://cdn.klokantech.com/mapbox-gl-leaflet/latest/leaflet-mapbox-gl.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.klokantech.com/mapbox-gl-js/v0.43.0/mapbox-gl.css" />
    <title>Gala Galore (Pangasinan)</title>
    <style>
    body{
        background-color: gold; 
    }
    #map{
        height:400px;
        width:343px;
        margin-top: 7px;
    }
    .container {
        width: 297px;
        height: 100%;
        background-color: gold;
    }
    input[type=text] {
        color: black;
        font-family: Berlin Sans FB;
        width: 93%;
        border--sizing:border--box;
        border: 1px solid yellow;
        border-radius: 5px;
        font-size: 15px;
        background: white;
        background-image:url('image/search.png');
        background-size:23px 23px;
        background-position: 1px 1px;
        background-repeat: no-repeat;
        padding: 1px 25px 6px 40px;
        margin-top: 0px;
    }
    .logo {
    width: 343px;
    padding: 1px;
    margin-left: 0px;
    margin-top: 1px;
    }
    .logo1 {
    width: 150px;
    padding: 0px;
    margin-top: 4px;
    margin-left: 40px;
    }
    .button {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 7px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 8px;
    margin-left: 2px;    
    }
    </style>
  </head>
  <body><div class="container">
    <button onclick="goBack()" class="button">BACK</button>
    <header>
        <img src="image/header4.png" alt="" class="logo">
    </header>
    <center><input type="text" id="mapsearch" placeholder="Search place here.."></center>
    <div id="map"></div>
    <header>
        <center><img src="image/logo.png" alt="" class="logo1"></center>
    </header>
    <script>
        function goBack() {
        window.history.back();
        }
      var map = L.map('map').setView([15.8949, 120.2863], 9);
      var gl = L.mapboxGL({
        attribution: '<a href="https://www.maptiler.com/license/maps/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>',
        accessToken: 'not-needed',
        style: 'https://maps.tilehosting.com/styles/streets/style.json?key=hZqrAMXvwY6KTIFwtjlC'
      }).addTo(map);

    //GEOLOCATION
      map.locate({setView: true, maxZoom: 16});
    //LOCATION FOUND
    function onLocationFound(e) {
    var radius = e.accuracy / 2;

    L.marker(e.latlng).addTo(map)
        .bindPopup("You are within " + radius + " meters from this point").openPopup();

    L.circle(e.latlng, radius).addTo(map);
    }

    map.on('locationfound', onLocationFound);
    //LOCATION ERROR
    function onLocationError(e) {
    alert(e.message);
    }

    map.on('locationerror', onLocationError);

    var LeafIcon = L.Icon.extend({
    options: {
        iconSize:     [50, 50],
        iconAnchor:   [22, 94],
        shadowAnchor: [4, 62],
        popupAnchor:  [-3, -76]
    }
    });

    var marketIcon = new LeafIcon({iconUrl: 'markers/market.png'});

      L.icon = function (options) {
    return new L.Icon(options);
    };

    L.marker([16.116060, 119.802583], {icon: marketIcon}).addTo(map).bindPopup("<b>Agno Public Market</b><br/>Agno, Pangasinan");
    L.marker([15.889953, 120.237833], {icon: marketIcon}).addTo(map).bindPopup("<b>Aguilar Public Market</b><br/>Romulo Hwy, Aguilar, Pangasinan");
    L.marker([16.156647, 119.981683], {icon: marketIcon}).addTo(map).bindPopup("<b>Suki Wet and Dry Market</b><br/>Sison Street, Poblacion, Alaminos, Pangasinan");
    L.marker([15.846761, 120.521881], {icon: marketIcon}).addTo(map).bindPopup("<b>Alcala Old Market</b><br/>Alcala, Pangasinan");
    L.marker([16.289675, 119.949031], {icon: marketIcon}).addTo(map).bindPopup("<b>Anda Public Market</b><br/>Anda, Pangasinan");
    L.marker([16.002201, 120.669421], {icon: marketIcon}).addTo(map).bindPopup("<b>Asingan Public Market</b><br/>Asingan, Pangasinan");
    L.marker([15.897941, 120.672634], {icon: marketIcon}).addTo(map).bindPopup("<b>Balungao Public Market</b><br/>Balungao, Pangasinan");
    L.marker([16.181733, 119.861722], {icon: marketIcon}).addTo(map).bindPopup("<b>Bani Public Market</b><br/>Bani, Pangasinan");
    L.marker([15.853733, 120.402088], {icon: marketIcon}).addTo(map).bindPopup("<b>Basista Public Market</b><br/>Basista, Pangasinan");
    L.marker([15.810172, 120.475631], {icon: marketIcon}).addTo(map).bindPopup("<b>Bautista Public Market</b><br/>Bautista, Pangasinan");
    L.marker([15.808596, 120.457726], {icon: marketIcon}).addTo(map).bindPopup("<b>Bayambang Quadri Centennial Public Market</b><br/>Bayambang, Pangasinan");
    L.marker([16.047934, 120.591762], {icon: marketIcon}).addTo(map).bindPopup("<b>Binalonan Public Market</b><br/>Binalonan, Pangasinan");
    L.marker([16.027650, 120.269209], {icon: marketIcon}).addTo(map).bindPopup("<b>Binmaley Public Market</b><br/>Binmaley, Pangasinan");
    L.marker([16.388035, 119.894177], {icon: marketIcon}).addTo(map).bindPopup("<b>Bolinao Wet Market</b><br/>Efren Peralta, Bolinao, Pangasinan");
    L.marker([15.954875, 120.219368], {icon: marketIcon}).addTo(map).bindPopup("<b>Bugallon Public Market</b><br/>Cervantes St, Bugallon, Pangasinan");
    L.marker([15.991001, 119.795654], {icon: marketIcon}).addTo(map).bindPopup("<b>Pogoruac Public Market</b><br/>Burgos, Pangasinan");
    L.marker([15.988951, 119.875474], {icon: marketIcon}).addTo(map).bindPopup("<b>Dasol Public Market</b><br/>Poblacion, Dasol, Pangasinan");
    L.marker([16.008217, 120.357511], {icon: marketIcon}).addTo(map).bindPopup("<b>Calasiao Public Market</b><br/>Calasiao, Pangasinan");
    L.marker([16.042988, 120.336124], {icon: marketIcon}).addTo(map).bindPopup("<b>DAGUPAN MALIMGAS PUBLIC MARKET</b><br/>Downtown District, Dagupan, Pangasinan");
    L.marker([15.826196, 119.905751], {icon: marketIcon}).addTo(map).bindPopup("<b>Infanta Public Market</b><br/>Infanta, Pangasinan");
    L.marker([16.026263, 120.147765], {icon: marketIcon}).addTo(map).bindPopup("<b>Labrador Public Market</b><br/>Labrador, Pangasinan");
    L.marker([16.02035, 120.231963], {icon: marketIcon}).addTo(map).bindPopup("<b>Aqua-Agri Market</b><br/>Poblacion, Lingayen, Pangasinan");
    L.marker([16.069744, 119.941436], {icon: marketIcon}).addTo(map).bindPopup("<b>Mabini Public Market</b><br/>Mabini, Pangasinan");
    L.marker([15.919908, 120.415050], {icon: marketIcon}).addTo(map).bindPopup("<b>Malasiqui Public Market</b><br/>Quezon Boulevard, Malasiqui, Pangasinan");
    L.marker([16.044659, 120.486007], {icon: marketIcon}).addTo(map).bindPopup("<b>Manaoag Public Market</b><br/>Milo St, Manaoag, Pangasinan");
    L.marker([16.067065, 120.403891], {icon: marketIcon}).addTo(map).bindPopup("<b>Mangaldan Public Market</b><br/>Mangaldan, Pangasinan");
    L.marker([15.791658, 120.293635], {icon: marketIcon}).addTo(map).bindPopup("<b>Mangatarem Public Market</b><br/>Mangatarem, Pangasinan");
    L.marker([16.025953, 120.451160], {icon: marketIcon}).addTo(map).bindPopup("<b>MAPANDAN PUBLIC MARKET</b><br/>Pandan Ave, Mapandan,Pangasinan");
    L.marker([16.028099, 120.748456], {icon: marketIcon}).addTo(map).bindPopup("<b>Tayug Public Market</b><br/>Tayug, Pangasinan");
    L.marker([15.982954, 120.812384], {icon: marketIcon}).addTo(map).bindPopup("<b>Dry Goods Section Building, Public Market Compound, San Quintin, Pangasinan");
    L.marker([16.070303, 120.760989], {icon: marketIcon}).addTo(map).bindPopup("<b>San Nicolas Public Market</b><br/>San Nicolas, Pangasinan");
    L.marker([16.109914, 120.542999], {icon: marketIcon}).addTo(map).bindPopup("<b>Pozorrubio Fresh Food Market</b><br/>Rizal Street, Pozorrubio, Pangasinan");
    L.marker([15.893777, 120.629866], {icon: marketIcon}).addTo(map).bindPopup("<b>Rosales Public Market</b><br/>General Luna St, Rosales, Pangasinan");
    L.marker([15.933642, 120.345530], {icon: marketIcon}).addTo(map).bindPopup("<b>San Carlos City New Public Market</b><br/>San Carlos City, Pangasinan");
    L.marker([16.119679, 120.404236], {icon: marketIcon}).addTo(map).bindPopup("<b>San Fabian Public Market</b><br/>101 Sevidal Street, San Fabian, Pangasinan");
    L.marker([16.064714, 120.670090], {icon: marketIcon}).addTo(map).bindPopup("<b>San Manuel Public Market</b><br/>San Manuel, Pangasinan");
    L.marker([16.173996, 120.512224], {icon: marketIcon}).addTo(map).bindPopup("<b>>Municipal Public Satellite Market of Sison</b><br/>Provincial Rd, Sison, Pangasinan");
    L.marker([15.997109, 120.405727], {icon: marketIcon}).addTo(map).bindPopup("<b>Sta.Barbara Public Market</b><br/>Santa Barbara, Pangasinan");
    L.marker([16.064790, 120.096513], {icon: marketIcon}).addTo(map).bindPopup("<b>Sual Public Market</b><br/>Sual, Pangasinan");
    L.marker([15.824049, 120.331210], {icon: marketIcon}).addTo(map).bindPopup("<b>Urbiztondo Public Market</b><br/>Urbiztondo, Pangasinan");
    L.marker([15.928828, 120.842530], {icon: marketIcon}).addTo(map).bindPopup("<b>Umingan Public Market</b><br/>Umingan, Pangasinan");
    L.marker([15.975311, 120.570307], {icon: marketIcon}).addTo(map).bindPopup("<b>New Urdaneta Public Market</b><br/>15 Mcarthur, Urdaneta City, Pangasinan");
   
    </script>
  </body>
</html>